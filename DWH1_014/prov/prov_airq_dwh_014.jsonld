{
  "@context": {
    "prov": "http://www.w3.org/ns/prov#",
    "dct": "http://purl.org/dc/terms/",
    "xsd": "http://www.w3.org/2001/XMLSchema#"
  },
  "@graph": [
    {
      "@id": "file:csv/tb_employee.csv",
      "@type": "prov:Entity",
      "dct:title": "tb_employee.csv",
      "dct:format": "text/csv",
      "contentHash": "ef28b582ef29fd2626eec4710e709d938580a5d195da4d3cfb516b49115cb26a"
    },
    {
      "@id": "file:csv/tb_sensordevice.csv",
      "@type": "prov:Entity",
      "dct:title": "tb_sensordevice.csv",
      "dct:format": "text/csv",
      "contentHash": "3e57052122a45c0217a067eac7b7e5af4e6a6524fa06e4faf707273eaca959e8"
    },
    {
      "@id": "file:csv/tb_serviceevent.csv",
      "@type": "prov:Entity",
      "dct:title": "tb_serviceevent.csv",
      "dct:format": "text/csv",
      "contentHash": "d8ba76c8a64a77c28820b196a43af49b709654c1e7a92b6343f58eb653daaf48"
    },
    {
      "@id": "file:csv/tb_servicetype.csv",
      "@type": "prov:Entity",
      "dct:title": "tb_servicetype.csv",
      "dct:format": "text/csv",
      "contentHash": "4f863b48dbdb7e2960c40ee1ef3b883f148fcbd6ac24505c66699fe4ab257e98"
    },
    {
      "@id": "oltp://tb_timeday",
      "@type": "prov:Entity",
      "dct:title": "tb_timeday",
      "dct:format": "text/csv"
    },
    {
      "@id": "file:etl/a1_etl01_dim_timeday.sql",
      "@type": [
        "prov:Entity",
        "prov:Plan"
      ],
      "dct:title": "a1_etl01_dim_timeday.sql",
      "dct:format": "text/sql",
      "contentHash": "4157dc0fb34b72b1373c3de1c8b2f37228c24a4295024c7186e2330fe1243a52"
    },
    {
      "@id": "file:etl/a1_etl02_dim_servicetype.sql",
      "@type": [
        "prov:Entity",
        "prov:Plan"
      ],
      "dct:title": "a1_etl02_dim_servicetype.sql",
      "dct:format": "text/sql",
      "contentHash": "13d4b6ef8ca8152ae9f582f93b4d175269f0e20096816b1b5ecf58d9528e8351"
    },
    {
      "@id": "file:etl/a1_etl03_dim_parameter.sql",
      "@type": [
        "prov:Entity",
        "prov:Plan"
      ],
      "dct:title": "a1_etl03_dim_parameter.sql",
      "dct:format": "text/sql",
      "contentHash": "4d464e9fb8c48ade5c19c7b45360261891b9467634eb9ceb23a4d4c0bd398cd7"
    },
    {
      "@id": "file:etl/a1_etl04_dim_technician_role_scd2.sql",
      "@type": [
        "prov:Entity",
        "prov:Plan"
      ],
      "dct:title": "a1_etl04_dim_technician_role_scd2.sql",
      "dct:format": "text/sql",
      "contentHash": "24cf89715399e5696aa0380db238a0c3a59a0609df8a2f7330e5c290d00ac3f0"
    },
    {
      "@id": "file:etl/a1_etl05_dim_location.sql",
      "@type": [
        "prov:Entity",
        "prov:Plan"
      ],
      "dct:title": "a1_etl05_dim_location.sql",
      "dct:format": "text/sql",
      "contentHash": "ce32b1181c553dd8ac17daa992731628ce3ced844c7e6268af830197560b3611"
    },
    {
      "@id": "file:etl/a1_etl06_dim_employee.sql",
      "@type": [
        "prov:Entity",
        "prov:Plan"
      ],
      "dct:title": "a1_etl06_dim_employee.sql",
      "dct:format": "text/sql",
      "contentHash": "d67bcf79272bb74aae1f48680c9514937097f9cdac9c52585235035c40ca8602"
    },
    {
      "@id": "file:etl/a1_etl07_dim_sensordevice.sql",
      "@type": [
        "prov:Entity",
        "prov:Plan"
      ],
      "dct:title": "a1_etl07_dim_sensordevice.sql",
      "dct:format": "text/sql",
      "contentHash": "6f6f0e84f57f9e35ce285efd528cd0360571f7d4977e492a38e2d53e98204f79"
    },
    {
      "@id": "file:etl/a1_etl08_dim_city.sql",
      "@type": [
        "prov:Entity",
        "prov:Plan"
      ],
      "dct:title": "a1_etl08_dim_city.sql",
      "dct:format": "text/sql",
      "contentHash": "f8ac744e6eb22d07f1ff3d0fe2da8c932d359360464e22e89c9370d84c4e6e83"
    },
    {
      "@id": "file:etl/a1_etl09_ft_service_performance.sql",
      "@type": [
        "prov:Entity",
        "prov:Plan"
      ],
      "dct:title": "a1_etl09_ft_service_performance.sql",
      "dct:format": "text/sql",
      "contentHash": "18b70ac69ba32b1a40558f3f86b10c1761ded5687815f6c1ead0fecc053deb92"
    },
    {
      "@id": "file:etl/a1_etl10_ft_employee_performance.sql",
      "@type": [
        "prov:Entity",
        "prov:Plan"
      ],
      "dct:title": "a1_etl10_ft_employee_performance.sql",
      "dct:format": "text/sql",
      "contentHash": "39c8573c28a8402645892af0fe19b39a56aeb0043bf369b8b0f10e23bd1c1c39"
    },
    {
      "@id": "db://airq/dwh_014/dim_city",
      "@type": "prov:Entity",
      "dct:title": "dim_city",
      "rowCount": 36
    },
    {
      "@id": "db://airq/dwh_014/dim_employee",
      "@type": "prov:Entity",
      "dct:title": "dim_employee",
      "rowCount": 484
    },
    {
      "@id": "db://airq/dwh_014/dim_location",
      "@type": "prov:Entity",
      "dct:title": "dim_location",
      "rowCount": 36
    },
    {
      "@id": "db://airq/dwh_014/dim_parameter",
      "@type": "prov:Entity",
      "dct:title": "dim_parameter",
      "rowCount": 120
    },
    {
      "@id": "db://airq/dwh_014/dim_sensordevice",
      "@type": "prov:Entity",
      "dct:title": "dim_sensordevice",
      "rowCount": 627
    },
    {
      "@id": "db://airq/dwh_014/dim_servicetype",
      "@type": "prov:Entity",
      "dct:title": "dim_servicetype",
      "rowCount": 24
    },
    {
      "@id": "db://airq/dwh_014/dim_technician_role_scd2",
      "@type": "prov:Entity",
      "dct:title": "dim_technician_role_scd2",
      "rowCount": 484
    },
    {
      "@id": "db://airq/dwh_014/dim_timeday",
      "@type": "prov:Entity",
      "dct:title": "dim_timeday",
      "rowCount": 731
    },
    {
      "@id": "db://airq/dwh_014/ft_employee_performance",
      "@type": "prov:Entity",
      "dct:title": "ft_employee_performance",
      "rowCount": 20442,
      "dct:description": "Grain: One row per employee per day summarizing service activity, duration, quality, and cost.",
      "measures": [
        {
          "name": "total_services_performed_per_employee_per_day",
          "agg": "SUM",
          "fully_additive": true
        },
        {
          "name": "total_service_cost_per_employee_per_day",
          "agg": "SUM",
          "fully_additive": true
        },
        {
          "name": "avg_service_duration_per_employee_per_day",
          "agg": "AVG"
        },
        {
          "name": "avg_service_quality",
          "agg": "AVG"
        }
      ]
    },
    {
      "@id": "db://airq/dwh_014/ft_service_performance",
      "@type": "prov:Entity",
      "dct:title": "ft_service_performance",
      "rowCount": 22720,
      "dct:description": "Grain: One row per service type, sensor device, employee, and day representing aggregated service performance metrics.",
      "measures": [
        {
          "name": "sum_installed_sensors",
          "agg": "SUM",
          "fully_additive": true
        },
        {
          "name": "average_min_level_per_sensor",
          "agg": "AVG"
        },
        {
          "name": "average_sensor_altitude",
          "agg": "AVG"
        },
        {
          "name": "number_employees_with_multiple_badges",
          "agg": "SUM"
        }
      ]
    },
    {
      "@id": "urn:airq:etl:group:014:2025-11-01T11:58:25Z",
      "@type": "prov:Activity",
      "dct:description": "Assignment 1 ETL run for dwh_014",
      "prov:startedAtTime": "2025-11-01T11:58:25Z",
      "prov:endedAtTime": "2025-11-01T11:58:25Z",
      "prov:used": [
        "file:csv/tb_employee.csv",
        "file:csv/tb_sensordevice.csv",
        "file:csv/tb_serviceevent.csv",
        "file:csv/tb_servicetype.csv",
        "oltp://tb_timeday",
        "file:etl/a1_etl01_dim_timeday.sql",
        "file:etl/a1_etl02_dim_servicetype.sql",
        "file:etl/a1_etl03_dim_parameter.sql",
        "file:etl/a1_etl04_dim_technician_role_scd2.sql",
        "file:etl/a1_etl05_dim_location.sql",
        "file:etl/a1_etl06_dim_employee.sql",
        "file:etl/a1_etl07_dim_sensordevice.sql",
        "file:etl/a1_etl08_dim_city.sql",
        "file:etl/a1_etl09_ft_service_performance.sql",
        "file:etl/a1_etl10_ft_employee_performance.sql"
      ],
      "prov:generated": [
        "db://airq/dwh_014/dim_city",
        "db://airq/dwh_014/dim_employee",
        "db://airq/dwh_014/dim_location",
        "db://airq/dwh_014/dim_parameter",
        "db://airq/dwh_014/dim_sensordevice",
        "db://airq/dwh_014/dim_servicetype",
        "db://airq/dwh_014/dim_technician_role_scd2",
        "db://airq/dwh_014/dim_timeday",
        "db://airq/dwh_014/ft_employee_performance",
        "db://airq/dwh_014/ft_service_performance"
      ],
      "prov:wasAssociatedWith": [
        "urn:person:A",
        "urn:person:B",
        "urn:software:jupyter",
        "urn:software:postgres",
        "urn:software:os"
      ],
      "prov:qualifiedAssociation": [
        {
          "@type": "prov:Association",
          "prov:agent": "urn:person:A",
          "prov:hadRole": "owner:ft_service_performance"
        },
        {
          "@type": "prov:Association",
          "prov:agent": "urn:person:B",
          "prov:hadRole": "owner:ft_employee_performance"
        }
      ]
    },
    {
      "@id": "urn:person:A",
      "@type": "prov:Agent",
      "dct:title": "Schwinger, Fabio"
    },
    {
      "@id": "urn:person:B",
      "@type": "prov:Agent",
      "dct:title": "Samad, Abdul"
    },
    {
      "@id": "urn:software:jupyter",
      "@type": "prov:SoftwareAgent",
      "dct:title": "Jupyter Notebook"
    },
    {
      "@id": "urn:software:postgres",
      "@type": "prov:SoftwareAgent",
      "dct:title": "PostgreSQL"
    },
    {
      "@id": "urn:software:os",
      "@type": "prov:SoftwareAgent",
      "dct:title": "posix"
    },
    {
      "@id": "db://airq/dwh_014/ft_service_performance#derivation-tb_serviceevent",
      "@type": "prov:Derivation",
      "prov:generatedEntity": "db://airq/dwh_014/ft_service_performance",
      "prov:usedEntity": "file:csv/tb_serviceevent.csv",
      "dct:description": "These OLTP tables contain service event records, sensor information, and employee data necessary to compute sensor-based service performance metrics."
    },
    {
      "@id": "db://airq/dwh_014/ft_service_performance#derivation-tb_servicetype",
      "@type": "prov:Derivation",
      "prov:generatedEntity": "db://airq/dwh_014/ft_service_performance",
      "prov:usedEntity": "file:csv/tb_servicetype.csv",
      "dct:description": "These OLTP tables contain service event records, sensor information, and employee data necessary to compute sensor-based service performance metrics."
    },
    {
      "@id": "db://airq/dwh_014/ft_service_performance#derivation-tb_sensordevice",
      "@type": "prov:Derivation",
      "prov:generatedEntity": "db://airq/dwh_014/ft_service_performance",
      "prov:usedEntity": "file:csv/tb_sensordevice.csv",
      "dct:description": "These OLTP tables contain service event records, sensor information, and employee data necessary to compute sensor-based service performance metrics."
    },
    {
      "@id": "db://airq/dwh_014/dim_servicetype#derivation-dim_servicetype-tb_servicetype",
      "@type": "prov:Derivation",
      "prov:generatedEntity": "db://airq/dwh_014/dim_servicetype",
      "prov:usedEntity": "file:csv/tb_servicetype.csv",
      "dct:description": "dim_servicetype ← tb_servicetype"
    },
    {
      "@id": "db://airq/dwh_014/dim_sensordevice#derivation-dim_sensordevice-tb_sensordevice",
      "@type": "prov:Derivation",
      "prov:generatedEntity": "db://airq/dwh_014/dim_sensordevice",
      "prov:usedEntity": "file:csv/tb_sensordevice.csv",
      "dct:description": "dim_sensordevice ← tb_sensordevice"
    },
    {
      "@id": "db://airq/dwh_014/dim_employee#derivation-dim_employee-tb_employee",
      "@type": "prov:Derivation",
      "prov:generatedEntity": "db://airq/dwh_014/dim_employee",
      "prov:usedEntity": "file:csv/tb_employee.csv",
      "dct:description": "dim_employee ← tb_employee"
    },
    {
      "@id": "db://airq/dwh_014/ft_employee_performance#derivation-tb_serviceevent",
      "@type": "prov:Derivation",
      "prov:generatedEntity": "db://airq/dwh_014/ft_employee_performance",
      "prov:usedEntity": "file:csv/tb_serviceevent.csv",
      "dct:description": "These OLTP tables provide event-level data on services performed by employees, including their duration, cost, and quality."
    },
    {
      "@id": "db://airq/dwh_014/dim_employee#derivation-dim_employee-tb_employee",
      "@type": "prov:Derivation",
      "prov:generatedEntity": "db://airq/dwh_014/dim_employee",
      "prov:usedEntity": "file:csv/tb_employee.csv",
      "dct:description": "dim_employee ← tb_employee"
    },
    {
      "@id": "db://airq/dwh_014/dim_timeday#derivation-dim_timeday-tb_timeday",
      "@type": "prov:Derivation",
      "prov:generatedEntity": "db://airq/dwh_014/dim_timeday",
      "prov:usedEntity": "oltp://tb_timeday",
      "dct:description": "dim_timeday ← tb_timeday"
    }
  ]
}